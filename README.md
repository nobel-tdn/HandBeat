# HandBeat

手の動きを使ってリズムゲームをプレイする革新的なWebアプリケーションです。MediaPipeを使用した手のトラッキング技術と、Three.jsによる3Dビジュアル、Tone.jsによる音声処理を組み合わせて、新しいリズムゲーム体験を提供します。

## 🎮 機能

- **手のトラッキング**: MediaPipeを使用したリアルタイム手の検出
- **3Dビジュアル**: Three.jsによる美しい3Dゲーム画面
- **音声分析**: カスタム音楽ファイルの自動リズム分析
- **複数のノートタイプ**: タップ、スワイプ、ホールドノート
- **カスタム音楽対応**: 自分の音楽ファイルをアップロードしてプレイ可能
- **スコアシステム**: パーフェクト、グレート、グッド、ミスの判定システム

## 🛠️ 技術スタック

- **フロントエンド**: React 19.1.0, TypeScript
- **3Dグラフィックス**: Three.js 0.165.0
- **音声処理**: Tone.js 15.0.4
- **手のトラッキング**: MediaPipe Tasks Vision 0.10.14
- **ビルドツール**: Vite 6.2.0

## 📋 必要条件

- Node.js (最新版推奨)
- ウェブカメラ
- 良好な照明環境
- モダンブラウザ（Chrome、Firefox、Safari、Edge）

## 🚀 セットアップ

1. **リポジトリのクローン**
   ```bash
   git clone [repository-url]
   cd HandBeat
   ```

2. **依存関係のインストール**
   ```bash
   npm install
   ```

3. **開発サーバーの起動**
   ```bash
   npm run dev
   ```

4. **ブラウザでアクセス**
   ```
   http://localhost:5173
   ```

## 🎯 遊び方

1. **ゲーム開始**: タイトル画面で「Start Game (Preset)」をクリックしてプリセット曲でプレイ、または「Play Custom Song」で自分の音楽ファイルをアップロード
2. **手の検出**: カメラの前に手を出して、手の検出を確認
3. **ノートの判定**: 画面上のノートが判定ラインに到達したタイミングで、対応するレーンに手を動かす
4. **スコア獲得**: タイミングが正確なほど高スコアを獲得

## 📁 プロジェクト構造

```
HandBeat/
├── components/
│   ├── game/           # ゲーム関連コンポーネント
│   ├── scenes/         # ゲームシーン（タイトル、ゲームプレイ、リザルト）
│   └── ui/             # UIコンポーネント
├── game/
│   ├── chart.ts        # チャート生成・分析
│   └── judgement.ts    # 判定システム
├── hooks/
│   └── useHandTracking.ts  # 手のトラッキングフック
├── types.ts            # TypeScript型定義
├── constants.ts        # ゲーム定数
└── App.tsx             # メインアプリケーション
```

## 🎵 対応音楽形式

- MP3形式の音楽ファイル
- 推奨BPM: 120-140 BPM
- ファイルサイズ: 10MB以下推奨

## 🔧 開発

### ビルド
```bash
npm run build
```

### プレビュー
```bash
npm run preview
```

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 👨‍💻 製作者

**NOBEL**

## 🙏 謝辞

- [MediaPipe](https://mediapipe.dev/) - 手のトラッキング技術
- [Three.js](https://threejs.org/) - 3Dグラフィックスライブラリ
- [Tone.js](https://tonejs.github.io/) - 音声処理ライブラリ
- [React](https://reactjs.org/) - UIライブラリ

## 🐛 トラブルシューティング

### カメラが認識されない場合
- ブラウザのカメラ権限を確認
- 他のアプリケーションでカメラを使用していないか確認
- ブラウザを再起動

### 手の検出が不安定な場合
- 照明を明るくする
- 背景をシンプルにする
- カメラとの距離を調整

### 音声が再生されない場合
- ブラウザの音声権限を確認
- システム音量を確認
- 別の音楽ファイルで試す

---

**HandBeat** - 手で奏でる新しいリズムゲーム体験
